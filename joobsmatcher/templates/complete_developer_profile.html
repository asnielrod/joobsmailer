{% extends "base.html" %}

{% block content %}
{% if user.is_authenticated %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Complete Developer Profile</title>
    <script>
        function showSection(sectionNumber) {
            for (let i = 1; i <= 5; i++) {
                document.getElementById("section" + i).style.display = "none";
            }
            document.getElementById("section" + sectionNumber).style.display = "block";
        }
    </script>
</head>
<body>

<form method="post">
    {% csrf_token %}

    <!-- Sección 1: Información Básica -->
    <div id="section1">
        <h3>Información Básica</h3>
        <p>Nombre de Usuario: {{ username }}</p>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br>
        <label for="location">Ubicación:</label>
        <input type="text" id="location" name="location"><br>
        <label for="linkedin_url">LinkedIn URL:</label>
        <input type="url" id="linkedin_url" name="linkedin_url"><br>
        <button type="button" onclick="showSection(2)">Siguiente</button>
    </div>

    <!-- Sección 2: Experiencia y Educación -->
    <div id="section2" style="display:none;">
        <h3>Experiencia y Educación</h3>
        <label for="programming_languages">Lenguajes de Programación:</label>
        <select id="programming_languages" name="programming_languages" multiple>
            {% for language in programming_languages %}
            <option value="{{ language.id }}">{{ language.name }}</option>
            {% endfor %}
        </select><br>
        <label for="frameworks">Frameworks:</label>
        <select id="frameworks" name="frameworks" multiple>
            {% for framework in frameworks %}
            <option value="{{ framework.id }}">{{ framework.name }}</option>
            {% endfor %}
        </select><br>
        <label for="tools_systems">Herramientas y Sistemas:</label>
        <select id="tools_systems" name="tools_systems" multiple>
            {% for tool in tools_systems %}
            <option value="{{ tool.id }}">{{ tool.name }}</option>
            {% endfor %}
        </select><br>
        <label for="database_knowledge">Conocimientos de Bases de Datos:</label>
        <select id="database_knowledge" name="database_knowledge" multiple>
            {% for database in database_knowledge %}
            <option value="{{ database.id }}">{{ database.name }}</option>
            {% endfor %}
        </select><br>
        <button type="button" onclick="showSection(1)">Atrás</button>
        <button type="button" onclick="showSection(3)">Siguiente</button>
    </div>

    <!-- Sección 3: Habilidades y Preferencias de Trabajo -->
    <div id="section3" style="display:none;">
        <h3>Habilidades y Preferencias de Trabajo</h3>
        <label for="years_of_experience">Años de Experiencia:</label>
        <input type="number" id="years_of_experience" name="years_of_experience"><br>
        <label for="project_types">Tipos de Proyectos:</label>
        <input type="text" id="project_types" name="project_types"><br>
        <label for="previous_roles">Roles Anteriores:</label>
        <input type="text" id="previous_roles" name="previous_roles"><br>
        <label for="highest_degree">Grado Académico Más Alto:</label>
        <input type="text" id="highest_degree" name="highest_degree"><br>
        <button type="button" onclick="showSection(2)">Atrás</button>
        <button type="button" onclick="showSection(4)">Siguiente</button>
    </div>

    <!-- Sección 4: Detalles Adicionales -->
    <div id="section4" style="display:none;">
        <h3>Detalles Adicionales</h3>
        <label for="certifications">Certificaciones:</label>
        <input type="text" id="certifications" name="certifications"><br>
        <label for="job_type">Tipo de Trabajo:</label>
        <input type="text" id="job_type" name="job_type"><br>
        <label for="remote_availability">Disponibilidad Remota:</label>
        <input type="checkbox" id="remote_availability" name="remote_availability"><br>
        <label for="relocation_interest">Interés en Relocalización:</label>
        <input type="checkbox" id="relocation_interest" name="relocation_interest"><br>
        <label for="desired_salary_range">Rango Salarial Deseado:</label>
        <input type="text" id="desired_salary_range" name="desired_salary_range"><br>
        <button type="button" onclick="showSection(3)">Atrás</button>
        <button type="button" onclick="showSection(5)">Siguiente</button>
    </div>

    <!-- Sección 5: Idiomas, Habilidades Blandas y Más -->
    <div id="section5" style="display:none;">
        <h3>Idiomas, Habilidades Blandas y Más</h3>
        <label for="languages_spoken">Idiomas Hablados:</label>
        <input type="text" id="languages_spoken" name="languages_spoken"><br>
        <label for="soft_skills">Habilidades Blandas:</label>
        <input type="text" id="soft_skills" name="soft_skills"><br>
        <label for="professional_interests">Intereses Profesionales:</label>
        <input type="text" id="professional_interests" name="professional_interests"><br>
        <label for="availability_date">Fecha de Disponibilidad:</label>
        <input type="date" id="availability_date" name="availability_date"><br>
        <label for="additional_comments">Comentarios Adicionales:</label>
        <input type="text" id="additional_comments" name="additional_comments"><br>
        <button type="button" onclick="showSection(4)">Atrás</button>
        <input type="submit" value="Enviar">
    </div>

</form>

</body>
</html>
{% else %}
    <h1>Por favor, inicia sesión para completar tu perfil.</h1>
    <a href="{% url 'login' %}">Iniciar sesión</a>
    <a href="{% url 'register' %}">Registrarse</a>
{% endif %}
{% endblock %}
